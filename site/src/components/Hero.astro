---
import SimulatedMap from './SimulatedMap.astro';

const WHATSAPP_CONTRATAR = 'https://api.whatsapp.com/send/?phone=559491796309&text=' + encodeURIComponent(
  'Olá! Quero contratar o rastreamento TraccarPro.\nPara agilizar:\n1. Qual sua cidade?\n2. Que tipo de veículo? (moto/carro/caminhão/outro)\n3. Melhor horário para instalação? (manhã/tarde)'
) + '&type=phone_number&app_absent=0';

const bullets = [
  'Rastreio em tempo real no celular',
  'Bloqueio e desbloqueio pelo app',
  'Alertas de velocidade, cercas e ignição',
  'Histórico de viagens e replay',
];
---
<section class="border-b border-border/40">
  <div class="mx-auto max-w-content px-6 py-16 sm:py-24 md:py-28">
    <div class="mx-auto max-w-2xl text-center">
      <h1 class="text-3xl font-semibold tracking-tight text-white sm:text-4xl md:text-5xl">
        Seu veículo sob controle.
      </h1>
      <p class="mt-4 text-lg text-[#a1a1aa] sm:text-xl">
        Rastreamento em tempo real, bloqueio remoto e alertas. Simples e confiável.
      </p>
      <ul class="mt-6 flex flex-wrap justify-center gap-x-6 gap-y-1 text-sm text-[#a1a1aa]">
        {bullets.map((b) => (
          <li class="flex items-center gap-2">
            <span class="h-1.5 w-1.5 shrink-0 rounded-full bg-accent" aria-hidden="true" />
            {b}
          </li>
        ))}
      </ul>
      <div class="mt-8 flex flex-col items-center justify-center gap-3 sm:flex-row">
        <a
          href={WHATSAPP_CONTRATAR}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex min-h-[44px] w-full min-w-[44px] items-center justify-center rounded-lg bg-accent px-6 py-3 text-base font-medium text-white transition hover:bg-accent-hover focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent sm:w-auto"
        >
          Comprar Online
        </a>
        <a
          href="/cadastro"
          class="inline-flex min-h-[44px] w-full min-w-[44px] items-center justify-center rounded-lg border border-border bg-transparent px-6 py-3 text-base font-medium text-[#e5e5e5] transition hover:border-[#3f3f46] hover:bg-surface focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent sm:w-auto"
        >
          Fazer cadastro
        </a>
      </div>
    </div>
    <div class="mx-auto mt-12 max-w-4xl sm:mt-16">
      <div
        class="overflow-hidden rounded-xl border border-border bg-surface shadow-2xl"
        aria-hidden="true"
      >
        <div class="flex h-8 items-center gap-2 border-b border-border px-4">
          <span class="h-3 w-3 rounded-full bg-[#3f3f46]"></span>
          <span class="h-3 w-3 rounded-full bg-[#3f3f46]"></span>
          <span class="h-3 w-3 rounded-full bg-[#3f3f46]"></span>
        </div>
        <div class="bg-[#0f172a]">
          <SimulatedMap />
        </div>
      </div>
    </div>
  </div>
</section>
